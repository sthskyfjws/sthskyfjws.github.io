<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾›ç”µæ‹“å±•æ¿ä»·æ ¼è®¡ç®—å™¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom right, #f0f8ff, #dbe9f4);
            color: #333;
        }

        .container {
            max-width: 100%;
            width: 600px;
            margin: 0px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            background: #ffaa00;
            color: white;
            padding: 20px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
        }

        .content {
            padding: 0px 20px 20px 20px;
        }

        h2 {
            /* border-bottom: 2px solid #ff8000; */
            padding-bottom: 5px;
            margin-bottom: 15px;
            color: #ff8000;
        }

        h4 {
            border-top: 2px solid #ff8000;
            padding-bottom: 5px;
            margin-bottom: 5px;
            padding: 2px 0px 0px 20px;
            color: #7d3f00;
        }

        .product-options {
            margin-bottom: 20px;
        }

        label {
            margin-right: 10px;
            color: #555;
        }

        select,
        input[type="number"] {
            padding: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 1em;
        }

        input[type="checkbox"] {
            margin-right: 5px;
        }

        .total-price {
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            margin-top: 20px;
            padding: 10px;
            /* background: #ff8000; */
            border: 1px solid #eee;
            border-radius: 5px;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>ä¾›ç”µæ‹“å±•æ¿ä»·æ ¼è®¡ç®—å™¨</header>
        <div class="content">
            <div class="product-options">
                <h2>é€‰æ‹©æ¥å£é…ç½®ï¼š</h2>
                <h4>å·¦è¾¹ä¾›ç”µè¾“å…¥</h4>
                <div style="width: 100%; position: relative; overflow: hidden;">
                    <img src="img/l_in_xt.png" style="width: 100%; margin: -12% 0% -10% 0%;">
                    <img id="l_in_dc" src="img/l_in_dc.png"
                        style="width: 100%; margin: -12% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 2; display: none">
                    <img id="l_in_none" src="img/l_in_none.png"
                        style="width: 100%; margin: -12% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 1; display: none">
                </div>
                <form id="left-input-form">
                    <div>
                        <label for="main-power">æ¥å£ç±»å‹ï¼š</label>
                        <select id="main-power" name="main-power">
                            <option value="xt60-m" data-price="3.5">XT60-å…¬å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                            <option value="none" data-price="0">æ— </option>
                        </select>
                    </div>
                </form>

                <h4>å³è¾¹ä¾›ç”µè¾“å…¥</h4>
                <div style="width: 100%; position: relative; overflow: hidden;">
                    <img src="img/r_in_xt.png" style="width: 100%; margin: -12% 0% -10% 0%;">
                    <img id="r_in_dc" src="img/r_in_dc.png"
                        style="width: 100%; margin: -12% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 2; display: none">
                    <img id="r_in_none" src="img/r_in_none.png"
                        style="width: 100%; margin: -12% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 1; display: none">
                </div>
                <form id="right-input-form">
                    <div>
                        <label for="main-power_2">æ¥å£ç±»å‹ï¼š</label>
                        <select id="main-power_2" name="main-power_2">
                            <option value="xt60-f" data-price="3.5">XT60-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                            <option value="none" data-price="0">æ— </option>
                        </select>
                    </div>
                </form>

                <h4>é€‰æ‹© ä¾›ç”µè¾“å‡º æ¥å£å‹å·</h4>
                <label>èƒŒé¢è§†å›¾ï¼Œä»å·¦å¾€å³ä¸º5ğŸ‘‰1</label>
                <div style="width: 100%; position: relative; overflow: hidden;">
                    <img src="img/xt30.png" style="width: 100%; margin: -7% 0% -10% 0%;">
                    <img id="dc_5" src="img/dc_5.png"
                        style="width: 100%; margin: -7% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 1; display: none">
                    <img id="dc_4" src="img/dc_4.png"
                        style="width: 100%; margin: -7% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 2; display: none">
                    <img id="dc_3" src="img/dc_3.png"
                        style="width: 100%; margin: -7% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 3; display: none">
                    <img id="dc_2" src="img/dc_2.png"
                        style="width: 100%; margin: -7% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 4; display: none">
                    <img id="dc_1" src="img/dc_1.png"
                        style="width: 100%; margin: -7% 0% -10% 0%; position: absolute; top: 0; left: 0; z-index: 5; display: none">
                </div>
                <form id="output-form">
                    <div>
                        <label for="output1">ä¾›ç”µè¾“å‡º1ï¼š</label>
                        <select id="output1" name="output1">
                            <option value="xt30-f" data-price="2.5">XT30-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                        </select>
                    </div>
                    <div style="margin-top: 2px;">
                        <label for="output2">ä¾›ç”µè¾“å‡º2ï¼š</label>
                        <select id="output2" name="output2">
                            <option value="xt30-f" data-price="2.5">XT30-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                        </select>
                    </div>
                    <div style="margin-top: 2px;">
                        <label for="output3">ä¾›ç”µè¾“å‡º3ï¼š</label>
                        <select id="output3" name="output3">
                            <option value="xt30-f" data-price="2.5">XT30-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                        </select>
                    </div>
                    <div style="margin-top: 2px;">
                        <label for="output4">ä¾›ç”µè¾“å‡º4ï¼š</label>
                        <select id="output4" name="output4">
                            <option value="xt30-f" data-price="2.5">XT30-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                        </select>
                    </div>
                    <div style="margin-top: 2px;">
                        <label for="output5">ä¾›ç”µè¾“å‡º5ï¼š</label>
                        <select id="output5" name="output5">
                            <option value="xt30-f" data-price="2.5">XT30-æ¯å¤´</option>
                            <option value="dc5525" data-price="1.5">DC-5525</option>
                        </select>
                    </div>
                    <div style="margin-top: 2px;">
                        <label for="usb">4å£USBæ¨¡å—ï¼š</label>
                        <select id="usb" name="usb">
                            <option value="usb0" data-price="0">0ä¸ª</option>
                            <option value="usb1" data-price="15">1ä¸ª</option>
                        </select>
                    </div>
                    <div style="margin-top: 15px;">
                        <label for="quantity_1">æ•°é‡ï¼š</label>
                        <input type="number" id="quantity_1" name="quantity_1" value="1" min="1">
                    </div>
                </form>
                <h4></h4>
            </div>

            <div class="product-options">
                <h2>å…¶ä»–é…ä»¶ï¼š</h2>
                <form id="accessory-form">
                    <h4>ä¸»ä¾›ç”µè¾“å…¥çº¿</h4>
                    <div>
                        <label>æ˜¯å¦éœ€è¦ï¼š</label>
                        <select id="need_main_line" name="need_main_line">
                            <option>æ˜¯</option>
                            <option>å¦</option>
                        </select>
                    </div>
                    <div id="main_line_hide">
                        <div style="margin-top: 10px;">
                            <label>æ’å¤´ç±»å‹ï¼š</label>
                            <select id="main_line_plug" name="main_line_plug">
                                <option value="xt60-m" data-price="3.5">XT60-å…¬å¤´</option>
                                <option value="xt60-f" data-price="3.5">XT60-æ¯å¤´</option>
                                <option value="xt60-f" data-price="2">DC-5525-å…¬å¤´</option>
                            </select>
                            <label>è½¬</label>
                            <select id="main_line_plug" name="main_line_plug">
                                <option value="xt60-m" data-price="3.5">XT60-å…¬å¤´</option>
                                <option value="xt60-f" data-price="3.5">XT60-æ¯å¤´</option>
                                <option value="xt60-f" data-price="2">DC-5525-å…¬å¤´</option>
                            </select>
                        </div>
                        <div style="margin-top: 10px;">
                            <label for="main_line_length">é•¿åº¦ï¼š</label>
                            <input type="number" style="width: 80px;" id="main_line_length" name="main_line_length"
                                value="10" min="10" step="10">
                            <label for="main_line_length">cm</label>
                        </div>
                        <div style="margin-top: 10px;">
                            <label for="main_line_quantity">æ•°é‡ï¼š</label>
                            <input type="number" id="main_line_quantity" name="main_line_quantity" value="1" min="1">
                        </div>
                    </div>
                </form>
            </div>
            <div style="margin-bottom: 50px;">
            </div>
            <div class="total-price">
                æ€»ä»·ï¼šï¿¥<span id="price">0.00</span>
            </div>
        </div>
    </div>

    <script>
        function updateAccessoryOptions() {
            const need_main_line = document.getElementById('need_main_line');
            const need_main_line_Value = need_main_line.options[need_main_line.selectedIndex].innerHTML;
            if (need_main_line_Value == "æ˜¯") {
                // éšè—é•¿åº¦å’Œæ•°é‡è¾“å…¥æ¡†
                document.getElementById('main_line_hide').style.display = 'block';
            } else {
                // æ˜¾ç¤ºé•¿åº¦å’Œæ•°é‡è¾“å…¥æ¡†
                document.getElementById('main_line_hide').style.display = 'none';
            }
        }

        function calculatePrice() {
            // æ”¹å˜è¾“å…¥å›¾ç‰‡
            const main_power = document.getElementById('main-power');
            const main_power_Value = main_power.options[main_power.selectedIndex].innerHTML;
            if (main_power_Value == "XT60-å…¬å¤´") {
                document.getElementById('l_in_dc').style.display = 'none';
                document.getElementById('l_in_none').style.display = 'none';
            } else if (main_power_Value == "DC-5525") {
                document.getElementById('l_in_dc').style.display = 'block';
                document.getElementById('l_in_none').style.display = 'none';
            } else {
                document.getElementById('l_in_dc').style.display = 'none';
                document.getElementById('l_in_none').style.display = 'block';
            }
            const main_power_2 = document.getElementById('main-power_2');
            const main_power_2_Value = main_power_2.options[main_power_2.selectedIndex].innerHTML;
            if (main_power_2_Value == "XT60-æ¯å¤´") {
                document.getElementById('r_in_dc').style.display = 'none';
                document.getElementById('r_in_none').style.display = 'none';
            } else if (main_power_2_Value == "DC-5525") {
                document.getElementById('r_in_dc').style.display = 'block';
                document.getElementById('r_in_none').style.display = 'none';
            } else {
                document.getElementById('r_in_dc').style.display = 'none';
                document.getElementById('r_in_none').style.display = 'block';
            }
            // æ”¹å˜è¾“å‡ºå›¾ç‰‡
            const output1 = document.getElementById('output1');
            const output1_Value = output1.options[output1.selectedIndex].innerHTML;
            if (output1_Value == "DC-5525") {
                document.getElementById('dc_1').style.display = 'block';
            } else {
                document.getElementById('dc_1').style.display = 'none';
            }
            const output2 = document.getElementById('output2');
            const output2_Value = output2.options[output2.selectedIndex].innerHTML;
            if (output2_Value == "DC-5525") {
                document.getElementById('dc_2').style.display = 'block';
            } else {
                document.getElementById('dc_2').style.display = 'none';
            }
            const output3 = document.getElementById('output3');
            const output3_Value = output3.options[output3.selectedIndex].innerHTML;
            if (output3_Value == "DC-5525") {
                document.getElementById('dc_3').style.display = 'block';
            } else {
                document.getElementById('dc_3').style.display = 'none';
            }
            const output4 = document.getElementById('output4');
            const output4_Value = output4.options[output4.selectedIndex].innerHTML;
            if (output4_Value == "DC-5525") {
                document.getElementById('dc_4').style.display = 'block';
            } else {
                document.getElementById('dc_4').style.display = 'none';
            }
            const output5 = document.getElementById('output5');
            const output5_Value = output5.options[output5.selectedIndex].innerHTML;
            if (output5_Value == "DC-5525") {
                document.getElementById('dc_5').style.display = 'block';
            } else {
                document.getElementById('dc_5').style.display = 'none';
            }

            // åˆå§‹åŒ–æ‹“å±•æ¿æ€»ä»·ä¸º0
            let totalBasePrice = 0;

            // è·å–è¾“å…¥é€‰é¡¹ä»·æ ¼
            document.querySelectorAll('#right-input-form select').forEach(select => {
                const selectedOption = select.options[select.selectedIndex];
                totalBasePrice += parseFloat(selectedOption.dataset.price || 0);
            });
            document.querySelectorAll('#left-input-form select').forEach(select => {
                const selectedOption = select.options[select.selectedIndex];
                totalBasePrice += parseFloat(selectedOption.dataset.price || 0);
            });
            // è·å–è¾“å‡ºé€‰é¡¹ä»·æ ¼
            document.querySelectorAll('#output-form select').forEach(select => {
                const selectedOption = select.options[select.selectedIndex];
                totalBasePrice += parseFloat(selectedOption.dataset.price || 0);
            });


            // æ‹“å±•æ¿æ•°é‡
            const quantity_1 = Math.max(1, parseInt(document.getElementById('quantity_1').value) || 1);

            // æ‹“å±•æ¿æ€»ä»·
            totalBasePrice = (totalBasePrice + 18) * quantity_1;





            // è·å–é•¿åº¦ä»·æ ¼
            const main_line_length = Math.max(10, parseInt(document.getElementById('main_line_length').value) || 10);
            const main_line_length_price = Math.ceil(main_line_length / 10) * 1; // æ¯10cm 1å…ƒ

            // é…ä»¶æ•°é‡
            const main_line_quantity = Math.max(1, parseInt(document.getElementById('main_line_quantity').value) || 1);

            // è·å–æ’å¤´ä»·æ ¼
            let main_line_plug_price = 0;
            document.querySelectorAll('#accessory-form select').forEach(select => {
                const selectedOption = select.options[select.selectedIndex];
                main_line_plug_price += parseFloat(selectedOption.dataset.price || 0);
            });
            main_line_price = (main_line_plug_price + main_line_length_price) * main_line_quantity;

            const need_main_line = document.getElementById('need_main_line');
            const need_main_line_Value = need_main_line.options[need_main_line.selectedIndex].innerHTML;
            if (need_main_line_Value == "å¦") {
                main_line_price = 0;
            }
            accessoryPrice = main_line_price;

            // æ€»ä»·è®¡ç®—
            const totalPrice = Math.ceil(6 + totalBasePrice + accessoryPrice);
            document.getElementById('price').textContent = totalPrice.toFixed(2);
            

        }



        // ç›‘å¬ä¸»ä¾›ç”µçº¿å˜åŒ–åŠ¨æ€æ›´æ–°é€‰é¡¹
        document.getElementById('need_main_line').addEventListener('change', () => {
            updateAccessoryOptions();
            calculatePrice();
        });

        // ç›‘å¬æ‰€æœ‰è¡¨å•çš„å˜åŒ–
        document.getElementById('right-input-form').addEventListener('change', calculatePrice);
        document.getElementById('left-input-form').addEventListener('change', calculatePrice);
        document.getElementById('output-form').addEventListener('change', calculatePrice);
        document.getElementById('accessory-form').addEventListener('change', calculatePrice);
        document.getElementById('accessory-form').addEventListener('input', calculatePrice);

        // åˆå§‹åŒ–é»˜è®¤é…ç½®
        updateAccessoryOptions();
        calculatePrice();
    </script>
</body>

</html>
